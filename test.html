<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<link href="https://unpkg.com/tabulator-tables@4.1.4/dist/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.1.4/dist/js/tabulator.min.js"></script>


<input id="name-filter" type="text">	</input>
<div id="example-table"></div>




<script> 
	var table; 

	$("#name-filter").change(function(){
			table.setFilter("name", "=", $("#name-filter").val())
			console.log($("#name-filter").val())
	});


	$.getJSON("https://spreadsheets.google.com/feeds/list/18mYBuMIM6w9QrlLLel42eiZu5PfyPQpiJeQ4aOd9-B4/od6/public/full?alt=json", function(data) {
			console.log(data); 
			var tableData = [];

			// Change data format from Google Sheets ---> Tabulator format 
			for (id in data.feed.entry) {
			    var entry = data.feed.entry[id] 
				console.log(entry); 
				var tableEntry = {
					id : id,
					name : entry.gsx$name.$t, 
					age : entry.gsx$age.$t
				};
				tableData.push(tableEntry); 
			}
			console.log(tableData); 


						//create Tabulator on DOM element with id "example-table"
			table = new Tabulator("#example-table", {
			 	height:505, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
			 	data:tableData, //assign data to table
			 	layout:"fitColumns", //fit columns to width of table (optional)
			 	columns:[ //Define Table Columns
				 	{title:"Name", field:"name", width:150},
				 	{title:"Age", field:"age", align:"left"},

			 	],
			 	rowClick:function(e, row){ //trigger an alert message when the row is clicked
			 		alert("Row " + row.getData().id + " Clicked!!!!");
			 	},
			});
	});

</script>